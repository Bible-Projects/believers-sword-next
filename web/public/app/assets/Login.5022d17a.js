import{d as k,r as m,u as U,a as b,b as N,c as B,o as I,i as A,e as g,f as V,g as y,t as P,h as n,j as u,k as i,N as f,l as j,m as E,w,n as L,p as c,q as x,v as h,s as _,_ as R}from"./index.bc168f0a.js";const D={class:"h-full w-full"},K={class:"w-400px mx-auto mt-5 flex flex-col gap-2"},M={class:"text-center font-800 text-size-25px"},$=k({__name:"Login",setup(q){const r=m(!1),a=m(!1),d=U(),p=b(),t=N(),e=B({email:null,password:null,retypePassword:null});async function C(){if(!e.email||!e.password){t.error("Cant Continue, some fields does not exist.");return}a.value=!0;const{data:l,error:s}=await _.auth.signInWithPassword({email:e.email,password:e.password});if(a.value=!1,s){t.error(s.message);return}d.user=l,t.success("Logged In! Successfully."),await p.push("/profile/profile")}async function S(){if(a.value=!0,!e.email||!e.password){t.error("Cant Continue, some fields does not exist."),a.value=!1;return}if(e.password!=e.retypePassword){t.error("Password and retype password should be the same."),a.value=!1;return}const{data:l,error:s}=await _.auth.signUp({email:e.email,password:e.password});if(s){t.error(s.message),a.value=!1;return}a.value=!1}async function v(){r.value?await S():await C()}return I(async()=>{if(a.value=!0,d.user)await p.push("/profile/profile");else{const l=await A();l&&(d.user=l,await p.push("/profile/profile"))}a.value=!1}),(l,s)=>(g(),V("div",D,[y("div",K,[y("h5",M,P(r.value?"Sign Up":"Sign In"),1),n(" Email Address: "),u(i(f),{value:e.email,"onUpdate:value":s[0]||(s[0]=o=>e.email=o),placeholder:"Email"},null,8,["value"]),n(" Password: "),u(i(f),{value:e.password,"onUpdate:value":s[1]||(s[1]=o=>e.password=o),placeholder:"Password",type:"password"},null,8,["value"]),n(" Retype Password: "),r.value?(g(),j(i(f),{key:0,value:e.retypePassword,"onUpdate:value":s[2]||(s[2]=o=>e.retypePassword=o),placeholder:"Retype Password",type:"password"},null,8,["value"])):E("v-if",!0),u(i(c),{disabled:a.value,loading:a.value,type:"primary",onClick:v,onKeydown:L(v,["enter"])},{default:w(()=>[n(P(r.value?"Sign Me Up":"Sign In"),1)]),_:1},8,["disabled","loading","onKeydown"]),x(u(i(c),{onClick:s[3]||(s[3]=o=>r.value=!0)},{default:w(()=>[n("Create Account")]),_:1},512),[[h,!r.value]]),x(u(i(c),{onClick:s[4]||(s[4]=o=>r.value=!1)},{default:w(()=>[n("Already Have an Account?")]),_:1},512),[[h,r.value]])])]))}}),F=R($,[["__file","D:/Projects/PersonalProjects/Believers Sword Project/believers-sword/FrontEndApp/src/Views/UserProfile/Pages/Login.vue"]]);export{F as default};
